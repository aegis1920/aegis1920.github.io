---
layout  : wiki
title   : 마이크로서비스 도입, 이렇게 한다
summary : 
date    : 2022-10-03 19:17:21 +0900
updated : 2022-10-03 19:20:45 +0900
tags    : 
toc     : true
public  : true
parent  : 
latex   : false
---
* TOC
{:toc}

책 스터디 간단 정리 내용

### 1장

- 마이크로서비스는 independent deployability 해야한다.
    - 서비스가 느슨하게 결합 -> 그러려면 서비스 경계를 먼저 찾아야함
    - 경계를 정의하는 방법은 뭘까? -> 매번 고민..
- 데이터베이스 공유는 하지말자.
- 마이크로서비스의 목표는 '가능한 한 작은 인터페이스를 유지하는 것'
- 모놀리스
    - 모든 코드를 단일 프로세스 하나로 패키징
    - 멀티모듈 방식으로도 가능
        - 모듈 경계 잘 설정하기
- 잘 정의된 서비스 인터페이스 뒤에 데이터베이스를 숨기면 서비스가 노출 대상의 범위를 제한하고 데이터 표현 방식을 변경할 수 있다
- 구현 결합도
    - 개발자가 직접 컨트롤 가능
- 시간적 결합도. 메시지가 전송되는 시점과 메시지가 처리되는 방식
    - 캐시를 사용하면 나름 해결됨
    - 또는 비동기 전송
- 배포 결합도
    - 전체가 모놀리스면 모든 게 반드시 함께 배포되어야 함
    - 마이크로 서비스로 분해해 배포 범위를 줄여 배포 위험을 낮출 수 있음
    - 범위가 줄어들어서 문제를 찾기도 쉬워짐
- 도메인 결합도
    - 어떤 도메인에서 어떤 데이터를 공유해야 하는지 고민
- 이런 비즈니스 도메인을 중심으로 서비스를 모델링하는 구현 방법이 바로 도메인 주도 설계
    - aggregate는 수명 주기가 있으므로 state machine으로 구현할 수 있다
    - bounded context는 구현 세부사항을 숨김. aggregate가 여러 개
    - 둘 다 잘 정의된 인터페이스로서 응집력의 단위를 제공함
    - 그래서 둘 다 서비스의 경계로 작동할 수 있음
